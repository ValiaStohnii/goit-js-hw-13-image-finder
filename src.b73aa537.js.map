{"version":3,"sources":["js/apiService.js","index.js"],"names":["ApiService","constructor","searchQuery","page","fetchArticles","option","url","fetch","headers","Authorization","then","r","json","data","photos","resetPage","query","newQuery","apiService","refs","searchForm","document","querySelector","galleryContainer","loadMoreButton","onSearch","e","preventDefault","currentTarget","elements","value","console","log","onLoadMore","addEventListener"],"mappings":";;;AAA+B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAhB,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGhBC,gBACUC,MAKAC,4CAAgD,KAAKJ,oBAAoB,KAAKC,mBAE7EI,OAAAA,MAAMD,EAPE,CACXE,QAAS,CACLC,cAAe,8DAMtBC,KAAKC,GAAKA,EAAEC,QACRF,KAAKG,IACGV,KAAAA,MAAQ,EACNU,EAAKC,SAKxBC,YACSZ,KAAAA,KAAO,EAGZa,YACO,OAAA,KAAKd,YAGZc,UAAMC,GACDf,KAAAA,YAAce,GAhCI,QAAA,QAAA;;ACyB9B,aAzBD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,oBAwBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtBD,MAAMC,EAAa,IAAIlB,EAAJ,QAEbmB,EAAO,CACTC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,YACzCE,eAAgBH,SAASC,cAAc,uBAM3C,SAASG,EAASC,GACdA,EAAEC,iBAEFT,EAAWF,MAAQU,EAAEE,cAAcC,SAASb,MAAMc,MAClDZ,EAAWH,YACXG,EAAWd,gBAAgBM,KAAKI,GAAQiB,QAAQC,IAAIlB,IAIxD,SAASmB,IACLf,EAAWd,gBAAgBM,KAAKI,GAAQiB,QAAQC,IAAIlB,IAbxDK,EAAKC,WAAWc,iBAAiB,SAAUT,GAC3CN,EAAKK,eAAeU,iBAAiB,QAASD","file":"src.b73aa537.js","sourceRoot":"../src","sourcesContent":["export default class ApiService{\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n    \n    fetchArticles() {\n        const option = {\n            headers: {\n                Authorization: '563492ad6f91700001000001d92c485916fd48c1802ebd8935846f8a',\n            }\n        };\n        const url = `https://api.pexels.com/v1/search?query=${this.searchQuery}?page=${this.page}&per_page=12`;\n        \n        return fetch(url, option)\n        .then(r => r.json())\n            .then(data => {\n                this.page += 1;\n                return data.photos;\n        });\n        \n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}\n\n\n\n    \n","import './sass/main.scss';\nimport ApiService from './js/apiService';\n\nconst apiService = new ApiService();\n\nconst refs = {\n    searchForm: document.querySelector('.search-form'),\n    galleryContainer: document.querySelector('.gallery'),\n    loadMoreButton: document.querySelector('.load-more__button'),\n}\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreButton.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    apiService.query = e.currentTarget.elements.query.value;\n    apiService.resetPage();\n    apiService.fetchArticles().then(photos=>console.log(photos));\n\n}\n\nfunction onLoadMore() {\n    apiService.fetchArticles().then(photos=>console.log(photos));\n}\n\n"]}